import { Component, OnInit } from '@angular/core';
import { ActivatedRoute } from '@angular/router';
import * as Parse from 'parse';

@Component({
  selector: 'app-cardapio-base',
  templateUrl: './cardapio-base.component.html',
  styleUrls: ['./cardapio-base.component.css']
})
export class CardapioBaseComponent implements OnInit {
  public nome: string = "";
  public urlLogo: string = "";
  public quantidadeParse:number = 0;
  displayedColumns: string[] = ['name', 'valor'];
  dataSource: CardapioBase[];
  constructor(
    private route: ActivatedRoute
  ) {

    Parse.initialize("AuF3IuJ1Tu1w6Z4w4h30ZzKU3P9qEcB4coTTEVe9", "2EqwY3COopXubZeeQ4OdVQQAE9Z4xcrYNH06aKsq");
    Parse.serverURL = 'https://parseapi.back4app.com/'
  }

  async ngOnInit(): Promise<void> {
    const nome = this.route.snapshot.paramMap.get('nome');

    const cardapio = Parse.Object.extend('Cardapio');
    const query = new Parse.Query(cardapio);
    query.equalTo("empresa", nome);
    const result = await query.find();
    var json = JSON.stringify(result);
    const obj = JSON.parse(json);
    this.quantidadeParse = obj.length;
    console.log(obj);
  
    obj.map(e=>{
      DATASOURCE.push({name:e.nome ,valor:e.valor});
    });
    if (nome.toUpperCase() === "LUIZ") {
     
      this.dataSource = DATASOURCE;
      this.urlLogo = "https://i.pinimg.com/originals/a9/40/9d/a9409d5e0a1e36f3fac1056a870094e9.png";
    } else if (nome.toUpperCase() === "CLEBSON") {
      this.dataSource = DATASOURCE;
      this.urlLogo = "https://lh3.googleusercontent.com/proxy/QYPqrFHQI9eZGETuLqa-eq-bXcOz2kez2HlbPng7T901ZZ1lIs4e02alDtGgrOS7p8d0z8Mh7vgFXcls9k1DFO08kCagIlHqQQkiLVk34Ngo2EqMRMgFJOz_Ffp8GGS3tw";
    } else {
      this.dataSource = DATASOURCE;
      this.urlLogo = "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxASEhUSEhAVFhUVFRUVFRUVFRUWFxgWFhUXFxUVFRUYISggGR0lGxcWITEhJSkrLi4uFx8zODMtNygtLisBCgoKDg0OGxAQGy8lICU1LS0tKyswLS0tLS01LystLS0tNS0vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tK//AABEIAOEA4QMBIgACEQEDEQH/xAAcAAEAAgMBAQEAAAAAAAAAAAAAAQYEBQcDAgj/xABWEAABAwICBAUMDAoJBAMAAAABAAIDBBEFEgYTITEHIkFRYRc1UlRxdIGRkqOz0hQWIzIzNEJyg6GxsjZDU2JzgpO00dQVY2RllaLCw9MkJVXBVoSU/8QAFwEBAQEBAAAAAAAAAAAAAAAAAAECA//EACERAQEAAgICAwADAAAAAAAAAAABAhESMSFRIjJBA2GR/9oADAMBAAIRAxEAPwDt6+SUJUgKAApREBERAREQRdSiICIiAiIgL5JQlSAgAKURAREQEREEXUoiAiIgIiFARRmRBICIiAiIgIhUA3QSiLXYvjtLSi9ROyPmDjxj81g4x8AQbFFzbFuF2nbcU1O+U9k8iJndA2uPhAVdOmmOVptTRua0/kIbjuGV9wPGFnnG+FdqJttWsrdJKGH4SsgaeYysv5N7rk/tCxqp41TMGjl9kVDn2HQ1uYeDYvN2hWGwG1TjUIPYRBpd3PfEnyVOV9HGe3RKjhHwlht7KzH8yKZw8oNt9awpeFTDBuMzu5Fb7xCqtPo5gvyG4lUfo4JLH9bVtH1rLbo/h3JgWIu6Xvaz7Zgm8l1i3Y4WcO/J1H7Nnrr2i4VMMO90ze7ET90laT2u0f8A8drP27f+deL9H8N+VgmJx9LeOB5Mrj9SbyNYrfS8IeFSbqsN+eyVn1uaB9a3dDjFLN8DUxSfMkY76gVyap0ewL5VRW0p/r4ZGtHdc+O31rybwcQz7aLFKebmabA+FzHOP+VOVOMdsRcT/oPSKh2xPlc0fkpBMzwRP2/5Vl4dwr1cTtXV0zX299lBikHdabgnwNV5+04enYUVZwHTzD6uzWzauQ/i5rMdfmBvlce4SrMtS7Zs0IiIgiKCglFClBGVFKICIiAiIgLX4/izKSnkqJAS2MA2ba5JIa0C+zaSFsFVeFHrZUfRemYpelnbn1bpzi2IPMNHG6MH5MALn2N9r5jbL3RlXvQ8F8tjPiFW2Fu9/GDn/ryv4oPlLM0DxKSmwWqniy52VDsuYXF3NgbcgEXte6udLofCXCWskfWSjaHT21bT/VwDiM8RPSsSb7dLddKxhNNhTDbD8Okrng/DOHuQI5dfNxB+oCrI2ixab4SphpGdhTx62S3NrZbNHgYrNsaOQADuAAfYFV/bhr3OZh9M6pLTYy5hHADt/GEG/gG3kuta0xvb0boPRuN6gzVTuepmfIPBHcMHcstpHR0dHG57YoYI2Auc5rGMAA3kkBaOqxqujNpJcMjPYSVEgd4yB9iwK/GZDJC/EaYx00ZziSB/sindKDxHzOaA5rW7wC22Yg34oTxDVrdilqK3jyvkp6c+8hjcY5pG9lPIONGDyRtsQPfHaWj2Gh+G8tFC4872B7j3XOuT41uYZmvaHscHNcAWuaQQQdxBGwhfauom1dl0Ophtpny0r+Q08jmtv+dC68bh0Fq8qTGaimlZT4hlIkIbDVsGWORx3Rys/FSHk25Xcm1WdY2JUEVRE+GVgdG9pa5p5jzcxG8HkITXo37ZJWoxHRegn2y0kLndlkDX+W2zh41iaLVsrHSUNQ4umgAMch3zU7tkcp/OBBY7pF+VWJXs6Vf2qzQ7aPEJ4uaOY+yYe5lkOdo7jgsHFJpsuXE8MZURj8fTDW5fzjC73RndaXK7Ipo25LUcHtBWsMuGVbemNxL2g9iflxn5wPcWohxbGcHcGStc6K9g2S8kR6I5BtZs5L/qrquMaLU079cM0NQPe1EB1co+cRseOhwIVS0ir55cGrWzvD3w1GozhuTOI6iIB5aCQCb8mxYuOm5drfojpEyvpxOxhZZxY9hINnAAmzhvFiDfZvW6VA4FfiMnfD/Rxq+krc6Yymq+kQIqgiIgIihBKhSiAiIgKq8KPWyo+i9MxWpVXhR62VH0XpmKZdLO1F0a/B+s74/ll2Nu5cd0YF8ArB/aP5ZdgCmLWao6XSyVU8eGxOLWvbral43iFrgMn63/ALbe4JCs1LhkMcQhZGBG0WDdtvD2V+W+/lVX0IOsrcTnO0ioFOL8jYQRYc19hVzVntm+mvdglLlLBBG0HsGhh8bbFRh+DRwniPly7fc3PL2bd+x17eBbFFdJt5U1NHG0MjY1jRezWgNaLkk2A2DaSfCvVEQFClEFY0xhe3JVwtJmpLyADfLTu2VEXSbDMBztZzqw0VWyaNksbg5kjWva4crXC4KirhLhdps5u1pO6/KHDlaRsP8AEAik6P4wygmfRze5wOeXQFx2QPeS51NIdwaTd0b9zgbXuLCdVruL6i+IZWvF2uDhztII8YX2qyLmGND/ALTinf8AJ+8wrp5K5njJy4XiZ/t0h8dTDzLOTWLP4HYstE8f2h583Gr6AqDwLuJoZCe2H+jiV+Vx6MuxERVkREQES6hBKIiAiIgKq8KPWyo+i9MxWoqqcKHWyo+i9MxTLpZ2o2jJ/wCwVh/tH8suxt3LjmjX4P1nfH8suxt3KYtZqfocNVX4nTnYTNHUN6RMy5I7hFlY6irIqYYeR8c8h+jdC0el+pV/GWex8VpKnc2pjko5DyZh7rD4SWuHgW3xFtqykk521EI7r2sl+yApErboigrTKUUBSgIiIC02kejcFY20l2vAIbI22YA72uDgWvaexcCPDtW5RBXaHQ+mYwNdckNDczS6N4t2EjDrGj83MQOSwUT4RWwcakrHSAfiKs6xruhs9tYw9JLh0KxFAppdtZo/jLKuMuDHRvY4xzRPtnjkbvabbxtBBGwggqh411pxTv8Ak/eYVY8PdkxqpY3dJSQSv+ex5YD5JVcxrrTinf8AJ+8wrN6ak8/42PAr8Rk74f6ONX9UDgV+Iyd8P9HGr+tY9Jl2IigqspRAiAiIgIiICKCUAQSqpwo9bKj6P0zFa1VeFHrZUfRemYpl0s7UXRr8H6zvj+WXY27lxzRv8H6zvj+WXY2qYtZq3whxH2DJK0cemdHVM57wPDz42hw8Kz8ekGpbUDdC+Oe/NGDaU/snSLJxyEPpp2H5UMjfGwhYmjoE1BTh4uJKWEOHOHwtv9qv6z+NwUWBgMjnU0Jebv1bA887mizj4wVnqoIiICIiAi12OY1BSRGWZ9mgGwAu5xAuQxo2k2Hg3nYsyklzsa/KW5mtdldbM24vldblCD1UONtu5edTUMjYXyPaxjRdznENaBzknYFUq+afFBqYM8NE74WpcC187eWOnY7aGnleRY32X23WrIaEO9k1NZiA+Dle2CA9lFCLOe3oc77CtDjXWnFO/wCT95hXSaKkjhjZFG0NYxoa1o3ADcubY11pxTv+T95hWLPDUu62PAr8Rk74f6ONX9UDgV+Iyd8P9HGr+tY9Jl2IiKsiIiAiIgL5JS6+gEEAKURAVV4UetlR9F6ZitSqvCj1sqPovTMUy6WdqLo1+D9Z3x/LLsbdy45o1+D9Z3x/LLsbVMWs2u0jqRFSVEhNg2CV1+4w2t4VToMYxLDImMqKZtRTRNiiEsPEkZxWBrXxuJzHaBcWB51atIYzMYaYbpJBJL0QwkPcP1n6tluZ7uZe+M0Wt1LbcUVEcj/oryNPlsYrYkrB0Px+kqYWNgma57GgPYeK8O+USw7bXvtFx0qwLS4totRVLtY+ENlG0TRExSg8hEjLHx3UQUtdBsbM2pYNwn9zlA/TMGV+zcCwHnck2l03aLUvx+Jg/wCobJT85lbxB3ZmZo/8yz6WsilGaKRkg52Oa4eMK7TT3WNVVGUbBdx2NaNlz3eQc55AldWMiYZJDZotuFySTZrWgbXOJIAA2kkLFkqdSzXTNOd3FbGzjOudrYYwPfOPKd1wSSGgWDAdo0ZZxNUy5w3KWxgWaXAhwzX3saQCGCwJGZ2Y2y+mJaRHWGnpIvZFQPfjNlihvuM8u3KfzBdx5uVVpgra+pc0SmMREtlkjN209xxqendufUFps+bcwOLW8t7xhWGw00YigjDGN5Byk73OO9zidpJ2lZjV/tqabRsyOEtdL7IkaczWWy08Z/q4flEdm/MeaysKItM7Fy/GutOKd/yfvMK6guX411pxTv8Ak/eYVnLprHtseBb4i/vh/wByNX9UDgV+Iyd8P9HGr+rj0ZdiIirIiKCUEovnMiD6REQEREBVXhR62VH0XpmK1FVPhQv/AEXUX/qvTRqZdLO1H0a/B+s74/ll2Nu5cc0a/B+s74/ll2Nu5TFrNh19G5xEkT8krRYEi7XN35JG8ovuI2g7jtIPlRYs1zxDK3VTWvq3G4fbe6F+wSDuWI2XAWyWPXUUUzMksbXtuDZwvYjc4cxHIRtC0yyEWiNFW0/xeUTxj8TUuIeBzMqQCT3HtcT2QXkdL6eM5atktI7+vZaP9Wdl4z5XgU2aWJais0YoZXZ30sWfs2tDJP2jLO+tZ9HWRStDopWSNO5zHNePG02Xu82BNr7N3P0KooWM4VBDHPUR1VWwUhOQa8zATZNoY2oDxuka3Zuu4c69cVosQaYI24g51RNxBeGH3NlgaiUFoFsosOklgvtUf0RKY6CjeOM+V1bWHkuxwlewnpmlYO408y2+jz/ZFVV1R3Mf7Dh6Gw7ZnD50riD+ibzLLbb4PhsdNCyCIWawW6Sd7nOPK4m5J5ysxEWmBFBQIJXL8a604p3/ACfvMK6guX411pxTv+T95hWcumse2x4FfiMnfD/Rxq/qgcCvxGTvh/o41f1cejLsRFBVZSllAUoCIiAiIgLFxPEYaeMyzyNjYLAucbC53Ac56Avqvr4YGGSaVkbBYFz3BoudwuVyDhV0vgqxHT07s7I36x8liGlwa5rWsvvADnXO7da6mWWo1jjuuhe37Cu3GeS/1VXtP9LsPqKCaKGpa+R2rytAfc2lYTvHMCudUuAsLGlz47kXNq6ibv2jiuNwbchXt7XouzZ/++h/iudytb4yNjgWNU0eDVVM+UCaSbMxljct9w27rfJd4l04afYV24zyZPVVNwfgsgnhZL7Ke3OCbMMMrRtI2SM4rt3IszqPU/bkvkMVnKJeNWf2/YV24zyX+qnt+wrtxnkv9VVjqPU/bkvkMWJWcG2HQECbEtWTtbrDC2/SA7ervJNYrkdPsK7cZ5MnqqHaeYSRY1kZB3gteQfBlVPpuDrD6hxEWJ6xwFyIzC4gX3kA35bXWJ7RcI/8yzy4P4pvI1i3tXV6MyOLi6Fjz8uISwv8qINK8hiGEN+DxurjHMJ5XjzrHLXT8G+GsYyR+KZWSbWPcYQ14/NJNj4FjnQbB/8AzLP2kH8VPPprx7bsY5RDdpFU+FkJ/wBhbPA9KcHpYWwsrg4AvcXOa7M5z3l73Os0C5c47gqxW8HOGwuyS4rq3WDsr3QtNjuNid2w+JelVwZYfExskmJljH2yOcYmtdcXGUnYdm1PKfFcvb9hXbjPJf6qe37Cu3GeS/1VSupxhur139K+5ZsusvDkzdjmva/QvmHg7wt4c5mLBwYMzy10JDW87iDsHSVd5GsV39v2FduM8l/qp7fsK7cZ5L/VVJo+DrDJXZIsVD3m5DWOhc6w3mwN1n9R6n7cl8hibyTWKz+37Cu3GeTJ6qoOK6Q0jsOxCFs7TJNWPkjbZ13MM8Tg4bOxaT4Ft+o9T9uS+QxOo9T9uS+QxLyqzjGLwWaT0VLSPjqKhsbzO5waQ48UsYAdgPKD4lcfb9hXbjPJk9VVjqP0/bkvkMXxUcE0bWOdFUPfIGksa9rA0uG0NJ5L2tfkuk5QvG10XDcRhqIxLBI2RhuA5p2XGwg8xHMVlLh2gWmpw90sFTG/VufdwA48cgAa67Ta4IaLjeCOW66xo5pRSVwead5JjIzNc0tIzXymx3g2PiVxylZyxsblERaZEREBQVKIOc8N/wAVg74/2pFzzA8JcWsnZFWF22xjoIqiLYS3imSQB3hbsN+a66Fw3/FYO+P9p65vhopdW3Wews22+udWiT3xtmEXE3Wtbkty3XHL7O2P1WDV1X5Ks/wSg9ZNXVfkqz/BKD1lqbUX92+ViSWov7t8rElFds0OD/YcOcPDrOuJIWU7/futeGPis2c28beVblV/QPJ7Ag1eqy2fbUmUx/COvlMvH33vflvyLfLtOnG9m9cf4bx/1FP+hf8AfXYlx3hw+MU/6J/31M+msO2j4M8R1FVK8mw9i1B8hol+xhVRYLAdxbKqYYTG5v4ymv4JWSRP/wBS8qunyxQO/KNkd4pXR/6Fxdlw0161YV+jd9xi1uiOg0mIxSPZOyPI7V2cwuuS0G+wjnWy0161YV+jd91i02i1VirGuFDr9WXjWaqMPGaw98cpsctlq9szevDa8MQtiAH9ni+9IvHGcU1+DUjSeNBUOhPcbGXM/wAjmjwL34ZeuP8A9eL70ipr5Hta6I3AztcWnkc0OaD4nH6lLfNJNyLm/wDB5vfh+0rA0P8AimKd6t++Vnv/AAeb34f/AGsDQ74piferfvlX0flZHBH1yj/Ry/dXeFwfgk65R/o5furvC3h05/ydiKCtfj8czqWdsPwphlEdt+csIbbpvZbYamr08wyOXUvqhmBsSGvcwHpe0Fo8assUjXNDmkFrgCCCCCCLggjeLL8rEW2HZbYQdhBG8Eci/QHBfDKzDYBKCCc7mA7xG55LPBY3HQQsY5brpljqPnT3Rijnp56h8I10cEj2yNJa4lkZLc1vfjYN91UOAz4Sr+ZD96RdH0s+I1fe0/onLnHAZ8JV/Mh+9Il+0SfWuuIiLbAihEEoiIOecNkLnUcTg0kNnBcQL5QY3gE8wuQL9IXMMIx58TchmqgwXyiCdsYFzcjK5juUk8i/SS5vwxYFAaYVbWNbKx7GucBbOx5y2dbeQSCD0Ecq55Y/rphl+K0Jao7dZW7f70oP4JrKvs63/FKD+CreGYtFHGGPihJBO11FTzOIJvtke4E7+bmWWcep/wAhT/4bS/8AIsN6dt0Oz+w4c5kLrOvrZY5n+/da8sfFds3W3Cw3rcrlWB8KNJBAyE00l2Ag6qKGJm0k8WMPs3es/qwUfatR5r111mUc7jXRlx7hw+MU/wCif99bvqwUfatR5r11odItMcIrnMfUUdUSxpa3K9jdhNzsD9qmVli4yyq3pTTWpsOk7Olcz9nM4/7gUaVU+rhw9tt9G1/7SaWT/Ut9XaT4LNDDA+iqyynDhFZ7AQHkF13B9zuG/mUYtpNgtTq9bRVR1UTYWWextmN96DZ+3fvWG3xpr1qwr9G77rFHB3ptT4fFKyaOVxfIHjVhhAAYG7czht2L3r9K8Gmhhp5KOqMdOCIwHsBAIA2kPudwWtNfo/2jWftR/wAifu4n5qvvhcnElayQAgPpYXAHfZxkIv41h8IGG6qeN4HFnpoJRzZhGGPHjaD+stvi+keCVLmvloqslsbIhaRreIy+UWD9+07VkY3phg9W2Jk1FVEQNLY7PY0hpDQQSH7fetS68rNzTwZCXaOkgXyVWY9Azht/8wWg0bxGKKnr2PdZ01O1kYsTmcH7tnd5VccH4QcLpoDTR0VRqiXEteY33z++BzP2g8yrVZV4C9xc2mrowduWN8OXwZy4juXSkZXA/C52IggGzIpHOPIL2aPrK7quR6Pae4TRMLKehqG5rFziY3PcRuzOL+S52bhdbUcL9H2tUea9dbxskYyltdHRc56sFH2rUea9dOrBR9q1HmvXV5RnhVzqNHaKSTXPpIXSXvndG0uJ5ybbT0rZrnPVgo+1ajzXrrAx7hXikp5Y6eGaOV7S1r3asBt9hdxXE3te3TZOWJxybLTvhApGRz0keaWR8ckTnMtkY5zSw3cffEX3DmtcLTcBnwlX8yH70i8OCnQ6nqWPqahmdrX6uOM+9uGguc4D33vgAN2w79lur4fhcFO0tp4Y4gTciNjWgnnNhtKklt3WrZJqMxFAUrbmIiICIl0BY2JUEVRG6GZgfG7Y5p3bDcbtoIIBBG3YvclSAgqnU3wjtTz1R660GnmhOHU1DNNDT5ZGZMrtbM615GNOxziDsJ5F0taTTXCpKuimgitneG5cxsCWva+1+S+W3hWbjNNTK7cm0f0dgmwipqTA59RHKWsc0yEhoEJI1bTY7HPO4/Ur5hWhmA1LBJBE2RvO2ec2PM4Z7tPQVQcE0jxDBnGCWm4jnl5jkGW7rAF0couDsaOyGxWinx3Ba5+sLn0NUfxrXal5PTK3iPHQ/wASxNN3axdTfCO1PPVHrp1N8I7U89UeuvqJ2LQAFroa+LkNxBPbui8T+7xV6M03pWnLVNmpHbrVMZY2/RK28Z8pb8MfJ49TfCO1PPVHrp1N8I7U89UeurJR1sMozRSskbzsc1w8YWQrqJyqp9TfCO1PPVHrp1N8I7U89UeurYicYcqqfU3wjtTz1R66dTfCO1PPVHrq2JdOM9HKqn1N8I7U89UeunU3wjtTz1R66tW9YlfitNTi808cY/Pe1v2lNQ3Wg6m+EdqeeqPXTqb4R2p56o9dep02gfspIairPPBEdX4ZpMrLdwlfEsmLTAue6noIuVxPsiYDunLEzu8ZTx6X5MWv0FwOBhkmhbGwb3PqJ2jxmRUqt0cov6Lq6yOAhzagimeXTD3AzxtYQ1xs4FrnC5BK3NZi+B0r9ZJLJiFQNz3nX2P5pdaJm3sdoVex7TWuxQGkgprRvy3jjBkkIa4ObmfazRcA7hu3rNsbm224MNEqGspHy1EGd4mcwHWSt4oYwgWY4DeSrf1N8I7U89UeunBpgU9HR6ucAPfI6TKCDlBa1oBI2X4t9nOrYtTGaYyyu/DDwrDIaaMQwRhkbb2aLnad5JNyT0lZiItMiIiAiIgL53ovpACIiAiIg8aukjlaWSxtew72vaHNPgKo2OcFNFLd1O91O7mHukfkONx4HDuK/opZL2stnTirtCsaoCXUr3OF73p5CL9LonWB7lnKI+EjFKf3Orga/kLZonRPPPzD/Ku1r4lia4Wc0OB3hwBB7oKzx9Vrn7jjDNLMGmOafCTE/s6ZwBHTmYY3LaUuO4Z+JxnEIOZshfK0ftWP2eFXat0KwyW+eiiBPKwGM+Nllpargow13vTPH8yQH0gcmsl5YsSPG/yeksH01NDf6nM+xe7caqOTHsNPdiaP95YcnA9TfJq5h85sbvsAXh1HWX+OutzakfbnT5HxbJ+Mz8ukGHt+bA132zLynx6IbJdIdvLqKeMfYH2XjDwSxgW9mPHSIwD0/KK9I+CCj+VVVB7hiH2sKfI+LU1WP4P+MrsSqujWSsaf1W6tq1zdNcMgN6XBo79nMW5h03s8nyleqbgwwtlrxSPt2cr/AKwywW7odFqCHbHRwtI5cjXO8p1ynHI5YuWHTvGqvi00WUbv+ngL7d17swHd2KY9AMYrCH1cuUb/AHeUyOHzWNuB3LhdqAtsCJw9pz9Rz/BuCiiisZ3vndzfBx+S05vG4q8UNDDAzJDEyNo+SxoaPEN5WQi1JIzbahSiKoIiICIl0BEUIJREQEREBEUNCCUREBERAREQEUBSgIiICIiAigoEEoiICIiAiL5JQCVICAKUBERAREQEREAIVCIJREQEREBAiIBREQEREBERACFEQEREBERBDlDURBJUoiAiIg//2Q==";
    }
  }

}

export interface CardapioBase {
  name: string;
  valor: number;
}

let DATASOURCE: CardapioBase[] = [
  
];



